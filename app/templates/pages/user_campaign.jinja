{#=====================================================
Campaign page
- Shows details of a single campaign
- Have links to pre-existing documents
=====================================================#}

{% extends 'pages/base.jinja' %}


{% block title %}

WaiCol D&D - {{ campaign.name }}

{% endblock %}


{% block content %}

<h1 id="details_title">{{ campaign.name }}</h1>


<article id="campaign_specifics">
<h3>Campaign details:</h3>
    <p><strong>DM:</strong> {{ campaign.dm_name }}</p>
    <p><strong>Players:</strong> {{ campaign.current_players }}/{{ campaign.max_players }}</p>
    <p><strong>Description:</strong> {{ campaign.description }}</p>
    <p><strong>DM Email: </strong>{{ campaign.dm_email }}</p>
    <p><strong>DM Phone: </strong>{{ campaign.dm_phone }}</p>
    <p><strong>DM Discord: </strong>{{ campaign.dm_discord }}</p>
    <p><strong>Current level: </strong>{{ campaign.current_level }}</p>
    <p><strong>Current documents:</strong></p>
    {% set docs = [campaign.docs_link1, campaign.docs_link2, campaign.docs_link3, campaign.docs_link4,
    campaign.docs_link5] %} {#Get all the links to any documents#}

    {% for doc in docs %} {#Loop through all docs#}
    {% if doc %}
    <p>
        <a role="button" href="{{ doc }}" target="_blank" class="btn btn-primary">
            Document {{ loop.index }}
        </a>
    </p>
    {% else %} {#If no docs then say as much for each doc#}
    <p>No {{ loop.index }} document provided</p>
    {% endif %}
    {% endfor %}



</article>
<div id="back_button_container">
    {% if session["logged_in"] %}
    <a id="back_button" href="/admin_home" role="button">Back to campaign list</a>
    {% else %}
    <a id="back_button" href="/" role="button">Back to campaign list</a>
    {% endif %}
</div>

{% endblock %}